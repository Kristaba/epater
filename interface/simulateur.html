<!DOCTYPE html>
<html lang="fr-CA">
    <head>
        <meta charset="UTF-8">
        <title>Simulateur ARM</title>
        <link rel="stylesheet" type="text/css" media="screen" href="static/css/style.css"/>
        <script src="static/js/ace/ace.js" type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript">
            window.define = window.define || ace.define;
        </script>
        <script src="static/js/ace/theme-cobalt.js" type="text/javascript" charset="utf-8"></script>
        <script src="static/js/ace-custom/mode-assembly_arm.js" type="text/javascript" charset="utf-8"></script>

        <script src="static/js/editablegrid/editablegrid.js"></script>
        <script src="static/js/editablegrid/editablegrid_renderers.js" ></script>
        <script src="static/js/editablegrid/editablegrid_editors.js" ></script>
        <script src="static/js/editablegrid/editablegrid_validators.js" ></script>
        <script src="static/js/editablegrid/editablegrid_utils.js" ></script>
        <link rel="stylesheet" href="static/js/editablegrid/editablegrid.css" type="text/css" media="screen">

    </head>
    <body>
    <div id="message_bar"></div>
    <div id="left_menu">
        <a href="?page=demo"><div class="left_item">D&eacute;mo</div></a>
        <a href="?page=exo"><div class="left_item">Exercices facultatifs</div></a>
        <a href="?page=tp"><div class="left_item">Travaux pratiques</div></a>
        <a href="?sim=nouveau#tabsmain-simulation"><div class="left_item">Nouvelle session</div></a>
    </div>
    <div id="tabmain-container" class="tab-container">
        <ul class="etabs">
            <li class="tab"><a href="#tabsmain-enonce">&Eacute;nonc&eacute;</a></li>
            <li class="tab"><a href="#tabsmain-simulation">Simulation</a></li>
            <li class="tab"><a href="#tabsmain-solution">Solution</a></li>
        </ul>
    <div id="tabsmain-enonce">{{ !enonce }}</div>
    <div id="tabsmain-solution">{{ !solution }}</div>
    <div id="tabsmain-simulation">
        <table id="content-sim">
            <tr>
                <td id="regView">
                    <!-- <input id="bin" type="radio" name="representation" value="bin" onclick="changeBase(2);"/> bin
                    <input id="dec" type="radio" name="representation" value="dec" onclick="changeBase(10);" checked="checked" /> dec
                    <input id="hex" type="radio" name="representation" value="hex" onclick="changeBase(16);"/> hex <br> -->
                    <select id="valueformat">
                        <option value="hex">Hexad&eacute;cimal</option>
                        <option value="decsign">D&eacute;cimal (sign&eacute;)</option>
                        <option value="dec">D&eacute;cimal (non-sign&eacute;)</option>
                        <option value="bin">Binaire</option>
                    </select>
                    <div id="tab-container" class="tab-container">
                        <ul class="etabs">
                            <li class="tab"><a href="#tabs1-User">User</a></li>
                            <li class="tab"><a href="#tabs1-FIQ">FIQ</a></li>
                            <li class="tab"><a href="#tabs1-IRQ">IRQ</a></li>
                            <li class="tab"><a href="#tabs1-SVC">SVC</a></li>
                        </ul>
                        <div id="tabs1-User" class="border_container">
                            <h4 id="gp">Registre G&eacute;n&eacute;raux (User)</h4>
                            <table class="registers">
                                <thead>
                                <tr>
                                    <th class="regh_name">Nom</th>
                                    <th class="regh_val">Valeur</th>
                                    <th class="regh_r">R</th>
                                    <th class="regh_w">W</th>
                                </tr>
                                </thead>
                                <tr>
                                    <td>r0</td>
                                    <td><input class="regVal formatted_value" id="r0" type="text" name="r0"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r0" id="bp_r_r0"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r0" id="bp_w_r0"/></td>
                                </tr>
                                <tr>
                                    <td>r1</td>
                                    <td><input class="regVal formatted_value" id="r1" type="text" name="r1"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r1" id="bp_r_r1"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r1" id="bp_w_r1"/></td>
                                </tr>
                                <tr>
                                    <td>r2</td>
                                    <td><input class="regVal formatted_value" id="r2" type="text" name="r2"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r2" id="bp_r_r2"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r2" id="bp_w_r2"/></td>
                                </tr>
                                <tr>
                                    <td>r3</td>
                                    <td><input class="regVal formatted_value" id="r3" type="text" name="r3"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r3" id="bp_r_r3"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r3" id="bp_w_r3"/></td>
                                </tr>
                                <tr>
                                    <td>r4</td>
                                    <td><input class="regVal formatted_value" id="r4" type="text" name="r4"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r4" id="bp_r_r4"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r4" id="bp_w_r4"/></td>
                                </tr>
                                <tr>
                                    <td>r5</td>
                                    <td><input class="regVal formatted_value" id="r5" type="text" name="r5"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r5" id="bp_r_r5"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r5" id="bp_w_r5"/></td>
                                </tr>
                                <tr>
                                    <td>r6</td>
                                    <td><input class="regVal formatted_value" id="r6" type="text" name="r6"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r6" id="bp_r_r6"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r6" id="bp_w_r6"/></td>
                                </tr>
                                <tr>
                                    <td>r7</td>
                                    <td><input class="regVal formatted_value" id="r7" type="text" name="r7"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r7" id="bp_r_r7"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r7" id="bp_w_r7"/></td>
                                </tr>
                                <tr>
                                    <td>r8</td>
                                    <td><input class="regVal formatted_value" id="r8" type="text" name="r8"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r8" id="bp_r_r8"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r8" id="bp_w_r8"/></td>
                                </tr>
                                <tr>
                                    <td>r9</td>
                                    <td><input class="regVal formatted_value" id="r9" type="text" name="r9"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r9" id="bp_r_r19"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r9" id="bp_w_r19"/></td>
                                </tr>
                                <tr>
                                    <td>r10 (sl)</td>
                                    <td><input class="regVal formatted_value" id="r10" type="text" name="r10"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r10" id="bp_r_r10"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r10" id="bp_w_r10"/></td>
                                </tr>
                                <tr>
                                    <td>r11 (fp)</td>
                                    <td><input class="regVal formatted_value" id="r11" type="text" name="r11"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r11" id="bp_r_r11"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r11" id="bp_w_r11"/></td>
                                </tr>
                                <tr>
                                    <td>r12 (ip)</td>
                                    <td><input class="regVal formatted_value" id="r12" type="text" name="r12"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r12" id="bp_r_r12"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r12" id="bp_w_r12"/></td>
                                </tr>
                                <tr>
                                    <td>r13 (sp)</td>
                                    <td><input class="regVal formatted_value" id="r13" type="text" name="r13"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r13" id="bp_r_r13"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r13" id="bp_w_r13"/></td>
                                </tr>
                                <tr>
                                    <td>r14 (lr)</td>
                                    <td><input class="regVal formatted_value" id="r14" type="text" name="r14"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r14" id="bp_r_r14"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r14" id="bp_w_r14"/></td>
                                </tr>
                                <tr>
                                    <td>r15 (pc)</td>
                                    <td><input class="regVal formatted_value" id="r15" type="text" name="r15"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r15" id="bp_r_r15"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r15" id="bp_w_r15"/></td>
                                </tr>
                            </table>
                        </div>
                        <div id="tabs1-FIQ" class="border_container">
                            <h4 id="gp">Registre G&eacute;n&eacute;raux (FIQ)</h4>
                            <table class="registers">
                                <thead>
                                <tr>
                                    <th class="regh_name">Nom</th>
                                    <th class="regh_val">Valeur</th>
                                    <th class="regh_r">R</th>
                                    <th class="regh_w">W</th>
                                </tr>
                                </thead>
                                <tr>
                                    <td>r0</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r0" type="text" name="r0"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r0" id="bp_r_r0"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r0" id="bp_w_r0"/></td>
                                </tr>
                                <tr>
                                    <td>r1</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r1" type="text" name="r1"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r1" id="bp_r_r1"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r1" id="bp_w_r1"/></td>
                                </tr>
                                <tr>
                                    <td>r2</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r2" type="text" name="r2"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r2" id="bp_r_r2"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r2" id="bp_w_r2"/></td>
                                </tr>
                                <tr>
                                    <td>r3</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r3" type="text" name="r3"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r3" id="bp_r_r3"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r3" id="bp_w_r3"/></td>
                                </tr>
                                <tr>
                                    <td>r4</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r4" type="text" name="r4"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r4" id="bp_r_r4"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r4" id="bp_w_r4"/></td>
                                </tr>
                                <tr>
                                    <td>r5</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r5" type="text" name="r5"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r5" id="bp_r_r5"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r5" id="bp_w_r5"/></td>
                                </tr>
                                <tr>
                                    <td>r6</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r6" type="text" name="r6"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r6" id="bp_r_r6"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r6" id="bp_w_r6"/></td>
                                </tr>
                                <tr>
                                    <td>r7</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r7" type="text" name="r7"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r7" id="bp_r_r7"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r7" id="bp_w_r7"/></td>
                                </tr>
                                <tr>
                                    <td>r8</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r8" type="text" name="r8"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r8" id="bp_r_r8"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r8" id="bp_w_r8"/></td>
                                </tr>
                                <tr>
                                    <td>r9</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r9" type="text" name="r9"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r9" id="bp_r_r19"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r9" id="bp_w_r19"/></td>
                                </tr>
                                <tr>
                                    <td>r10 (sl)</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r10" type="text" name="r10"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r10" id="bp_r_r10"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r10" id="bp_w_r10"/></td>
                                </tr>
                                <tr>
                                    <td>r11 (fp)</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r11" type="text" name="r11"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r11" id="bp_r_r11"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r11" id="bp_w_r11"/></td>
                                </tr>
                                <tr>
                                    <td>r12 (ip)</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r12" type="text" name="r12"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r12" id="bp_r_r12"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r12" id="bp_w_r12"/></td>
                                </tr>
                                <tr>
                                    <td>r13 (sp)</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r13" type="text" name="r13"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r13" id="bp_r_r13"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r13" id="bp_w_r13"/></td>
                                </tr>
                                <tr>
                                    <td>r14 (lr)</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r14" type="text" name="r14"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r14" id="bp_r_r14"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r14" id="bp_w_r14"/></td>
                                </tr>
                                <tr>
                                    <td>r15 (pc)</td>
                                    <td><input class="regVal formatted_value" id="FIQ_r15" type="text" name="r15"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r15" id="bp_r_r15"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r15" id="bp_w_r15"/></td>
                                </tr>
                            </table>
                        </div>
                        <div id="tabs1-IRQ" class="border_container">
                            <h4 id="gp">Registre G&eacute;n&eacute;raux (IRQ)</h4>
                            <table class="registers">
                                <thead>
                                <tr>
                                    <th class="regh_name">Nom</th>
                                    <th class="regh_val">Valeur</th>
                                    <th class="regh_r">R</th>
                                    <th class="regh_w">W</th>
                                </tr>
                                </thead>
                                <tr>
                                    <td>r0</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r0" type="text" name="r0"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r0" id="bp_r_r0"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r0" id="bp_w_r0"/></td>
                                </tr>
                                <tr>
                                    <td>r1</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r1" type="text" name="r1"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r1" id="bp_r_r1"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r1" id="bp_w_r1"/></td>
                                </tr>
                                <tr>
                                    <td>r2</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r2" type="text" name="r2"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r2" id="bp_r_r2"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r2" id="bp_w_r2"/></td>
                                </tr>
                                <tr>
                                    <td>r3</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r3" type="text" name="r3"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r3" id="bp_r_r3"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r3" id="bp_w_r3"/></td>
                                </tr>
                                <tr>
                                    <td>r4</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r4" type="text" name="r4"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r4" id="bp_r_r4"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r4" id="bp_w_r4"/></td>
                                </tr>
                                <tr>
                                    <td>r5</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r5" type="text" name="r5"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r5" id="bp_r_r5"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r5" id="bp_w_r5"/></td>
                                </tr>
                                <tr>
                                    <td>r6</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r6" type="text" name="r6"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r6" id="bp_r_r6"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r6" id="bp_w_r6"/></td>
                                </tr>
                                <tr>
                                    <td>r7</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r7" type="text" name="r7"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r7" id="bp_r_r7"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r7" id="bp_w_r7"/></td>
                                </tr>
                                <tr>
                                    <td>r8</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r8" type="text" name="r8"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r8" id="bp_r_r8"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r8" id="bp_w_r8"/></td>
                                </tr>
                                <tr>
                                    <td>r9</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r9" type="text" name="r9"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r9" id="bp_r_r19"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r9" id="bp_w_r19"/></td>
                                </tr>
                                <tr>
                                    <td>r10 (sl)</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r10" type="text" name="r10"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r10" id="bp_r_r10"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r10" id="bp_w_r10"/></td>
                                </tr>
                                <tr>
                                    <td>r11 (fp)</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r11" type="text" name="r11"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r11" id="bp_r_r11"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r11" id="bp_w_r11"/></td>
                                </tr>
                                <tr>
                                    <td>r12 (ip)</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r12" type="text" name="r12"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r12" id="bp_r_r12"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r12" id="bp_w_r12"/></td>
                                </tr>
                                <tr>
                                    <td>r13 (sp)</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r13" type="text" name="r13"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r13" id="bp_r_r13"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r13" id="bp_w_r13"/></td>
                                </tr>
                                <tr>
                                    <td>r14 (lr)</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r14" type="text" name="r14"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r14" id="bp_r_r14"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r14" id="bp_w_r14"/></td>
                                </tr>
                                <tr>
                                    <td>r15 (pc)</td>
                                    <td><input class="regVal formatted_value" id="IRQ_r15" type="text" name="r15"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r15" id="bp_r_r15"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r15" id="bp_w_r15"/></td>
                                </tr>
                            </table>
                        </div>
                        <div id="tabs1-SVC" class="border_container">
                            <h4 id="gp">Registre G&eacute;n&eacute;raux (SVC)</h4>
                            <table class="registers">
                                <thead>
                                <tr>
                                    <th class="regh_name">Nom</th>
                                    <th class="regh_val">Valeur</th>
                                    <th class="regh_r">R</th>
                                    <th class="regh_w">W</th>
                                </tr>
                                </thead>
                                <tr>
                                    <td>r0</td>
                                    <td><input class="regVal formatted_value" id="SVC_r0" type="text" name="r0"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r0" id="bp_r_r0"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r0" id="bp_w_r0"/></td>
                                </tr>
                                <tr>
                                    <td>r1</td>
                                    <td><input class="regVal formatted_value" id="SVC_r1" type="text" name="r1"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r1" id="bp_r_r1"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r1" id="bp_w_r1"/></td>
                                </tr>
                                <tr>
                                    <td>r2</td>
                                    <td><input class="regVal formatted_value" id="SVC_r2" type="text" name="r2"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r2" id="bp_r_r2"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r2" id="bp_w_r2"/></td>
                                </tr>
                                <tr>
                                    <td>r3</td>
                                    <td><input class="regVal formatted_value" id="SVC_r3" type="text" name="r3"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r3" id="bp_r_r3"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r3" id="bp_w_r3"/></td>
                                </tr>
                                <tr>
                                    <td>r4</td>
                                    <td><input class="regVal formatted_value" id="SVC_r4" type="text" name="r4"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r4" id="bp_r_r4"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r4" id="bp_w_r4"/></td>
                                </tr>
                                <tr>
                                    <td>r5</td>
                                    <td><input class="regVal formatted_value" id="SVC_r5" type="text" name="r5"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r5" id="bp_r_r5"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r5" id="bp_w_r5"/></td>
                                </tr>
                                <tr>
                                    <td>r6</td>
                                    <td><input class="regVal formatted_value" id="SVC_r6" type="text" name="r6"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r6" id="bp_r_r6"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r6" id="bp_w_r6"/></td>
                                </tr>
                                <tr>
                                    <td>r7</td>
                                    <td><input class="regVal formatted_value" id="SVC_r7" type="text" name="r7"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r7" id="bp_r_r7"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r7" id="bp_w_r7"/></td>
                                </tr>
                                <tr>
                                    <td>r8</td>
                                    <td><input class="regVal formatted_value" id="SVC_r8" type="text" name="r8"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r8" id="bp_r_r8"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r8" id="bp_w_r8"/></td>
                                </tr>
                                <tr>
                                    <td>r9</td>
                                    <td><input class="regVal formatted_value" id="SVC_r9" type="text" name="r9"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r9" id="bp_r_r19"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r9" id="bp_w_r19"/></td>
                                </tr>
                                <tr>
                                    <td>r10 (sl)</td>
                                    <td><input class="regVal formatted_value" id="SVC_r10" type="text" name="r10"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r10" id="bp_r_r10"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r10" id="bp_w_r10"/></td>
                                </tr>
                                <tr>
                                    <td>r11 (fp)</td>
                                    <td><input class="regVal formatted_value" id="SVC_r11" type="text" name="r11"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r11" id="bp_r_r11"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r11" id="bp_w_r11"/></td>
                                </tr>
                                <tr>
                                    <td>r12 (ip)</td>
                                    <td><input class="regVal formatted_value" id="SVC_r12" type="text" name="r12"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r12" id="bp_r_r12"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r12" id="bp_w_r12"/></td>
                                </tr>
                                <tr>
                                    <td>r13 (sp)</td>
                                    <td><input class="regVal formatted_value" id="SVC_r13" type="text" name="r13"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r13" id="bp_r_r13"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r13" id="bp_w_r13"/></td>
                                </tr>
                                <tr>
                                    <td>r14 (lr)</td>
                                    <td><input class="regVal formatted_value" id="SVC_r14" type="text" name="r14"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r14" id="bp_r_r14"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r14" id="bp_w_r14"/></td>
                                </tr>
                                <tr>
                                    <td>r15 (pc)</td>
                                    <td><input class="regVal formatted_value" id="SVC_r15" type="text" name="r15"/></td>
                                    <td><input class="reg_r_cb" type="checkbox" name="bp_r_r15" id="bp_r_r15"/></td>
                                    <td><input class="reg_w_cb" type="checkbox" name="bp_w_r15" id="bp_w_r15"/></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="border_container smaller_font"><h4>&Eacute;tat courant</h4>
                        <table>
                            <thead>
                                <tr><th>&nbsp;</th><th>CPSR</th><th id="spsr_title">SPSR</th></tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Negatif (N)</td>
                                    <td><button class="flag_btn" name="n"><input class="statusVal pointer" id="n" type="text" name="n" readonly/></button></td>
                                    <td><button class="flag_btn" name="sn"><input class="statusVal pointer" id="sn" type="text" name="sn" readonly/></button></td>
                                </tr>
                                <tr>
                                    <td>Zero (Z)</td>
                                    <td><button class="flag_btn" name="z"><input class="statusVal pointer" id="z" type="text" name="z" readonly/></button></td>
                                    <td><button class="flag_btn" name="sz"><input class="statusVal pointer" id="sz" type="text" name="sz" readonly/></button></td>
                                </tr>
                                <tr>
                                    <td>Emprunt (C)</td>
                                    <td><button class="flag_btn" name="c"><input class="statusVal pointer" id="c" type="text" name="c" readonly/></button></td>
                                    <td><button class="flag_btn" name="sc"><input class="statusVal pointer" id="sc" type="text" name="sc" readonly/></button></td>
                                </tr>
                                <tr>
                                    <td>D&eacute;passement (V)</td>
                                    <td><button class="flag_btn" name="v"><input class="statusVal pointer" id="v" type="text" name="v" readonly/></button></td>
                                    <td><button class="flag_btn" name="sv"><input class="statusVal pointer" id="sv" type="text" name="sv" readonly/></button></td>
                                </tr>
                                <tr>
                                    <td>Ignore IRQ</td>
                                    <td><button class="flag_btn" name="i"><input class="statusVal pointer" id="i" type="text" name="i" readonly/></button></td>
                                    <td><button class="flag_btn" name="si"><input class="statusVal pointer" id="si" type="text" name="si" readonly/></button></td>
                                </tr>
                                <tr>
                                    <td>Ignore FIQ</td>
                                    <td><button class="flag_btn" name="f"><input class="statusVal pointer" id="f" type="text" name="f" readonly/></button></td>
                                    <td><button class="flag_btn" name="sf"><input class="statusVal pointer" id="sf" type="text" name="sf" readonly/></button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="border_container"><h4>Interruptions</h4>
                        <input type="checkbox" id="interrupt_active" name="interrupt_active" value="activate"/>Activer<br/>
                        Type <select id="interrupt_type">
                            <option value="FIQ">FIQ</option>
                            <option value="IRQ">IRQ</option>
                        </select><br/>
                        <input class="regVal" id="interrupt_cycles" type="text" value="500" name="interrupt_cycles"/>&nbsp;cycles<br/>
                        <input class="regVal" id="interrupt_cycles_first" type="text" value="500" name="interrupt_cycles_first"/>&nbsp;cycles (premier)
                    </div>
                </td>
                <td id="editorPanel">
                    <div>
                        <button onclick="assemble()" id="assemble">D&eacute;marrer</button>
                        <button id="run" onclick="simulate('run')" disable="disabled"><img src="static/image/resume_co.gif"/></button>
                        <button id="stepin" onclick="simulate('stepinto')" disable="disabled"><img src="static/image/stepinto_co.gif"/></button>
                        <button id="stepforward" onclick="simulate('stepforward')" disable="disabled"><img src="static/image/stepover_co.gif"/></button>
                        <button id="stepout" onclick="simulate('stepout')" disable="disabled"><img src="static/image/stepreturn_co.gif"/></button>
                    </div>
                    <div id="editor">{{ code }}</div>
                    <br>
                    <div>
                        <div style="float: left;">
                            <input type="file" onchange="loadFileAsText()" id="fileToLoad" style="display: none;"/>
                            <label for="fileToLoad" class="flat_button">Charger un fichier</label>
                        </div>
                        <div style="float: right;">
                            <button onclick="saveTextAsFile()">T&eacute;l&eacute;charger</button>
                        </div>
                    </div>
                    <br>
                </td>
                <td id="dashboard">
                    <div class="border_container">
                        <h4>Instruction courante</h4>
                        <div id="disassembly"></div>
                    </div>
                    <div class="border_container">
                        <h4>M&eacute;moire</h4>
                        Breakpoints:
                        <span id="help_r" class="mem_r">R</span>
                        <span id="help_w" class="mem_w">W</span>
                        <span id="help_rw" class="mem_rw">RW</span>
                        <span id="help_e" class="mem_e">E</span>
                        <span id="help_instr" class="mem_instr">instr</span><br/>
                        Ctrl+click: &Eacute;criture, Shift+click: Lecture, Alt+click: Ex&eacute;cution<br/>
                        <div id="memoryview"></div>
                        <div id="paginator"></div>
                        <input type="checkbox" id="follow_pc" checked="checked"/>Suivre PC<br/>
                        Vitesse d'ex&eacute;cution : &nbsp;<input class="regVal" id="animate_speed" type="text" value="100"/>ms<br/>
                        Cycle courant : <input id="cycles_count" type="text" value="0"/>
                    </div>
                    <!-- Input (stdin)<br>
                    <textarea id="stdin_" name ="stdin" placeholder="your inputs here"></textarea><br>
                    Output (stdout)<br>
                    <textarea id="stdout_" name="stdout" placeholder="your output here"></textarea> -->
                </td>
            </tr>
        </table>
    </div>

    <script type="text/javascript">
        var editor = ace.edit("editor");
        var assembly_armMode = ace.require("ace/mode/assembly_arm").Mode;
        editor.getSession().setMode(new assembly_armMode());
        editor.$blockScrolling = Infinity;
        editor.setShowPrintMargin(false);
    </script>

    <script src="static/js/jquery-1.11.1.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="static/js/tooltipster/js/jquery.tooltipster.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="static/js/jquery.easytabs.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="static/js/jquery.easing.min.js" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="static/js/tooltipster/css/tooltipster.css" />
    <script src="static/js/comm.js" type="text/javascript" charset="utf-8"></script>

    <script type="text/javascript">
        $('#tabmain-container').easytabs({
            "animate": false
        });

        // Onglets des registres
        $('#tab-container').easytabs({
            "animate": false
        });

        // Barre de messages
        $("#message_bar").click(function(){
          $(this).slideToggle("normal", "easeInOutBack", function() {});
        });
        
        $(document).ready(function() {

			editor.on("guttermousedown",  function(e) {
				var target = e.domEvent.target;
				if (target.className.indexOf("ace_gutter-cell") == -1)
					return;

				var row = e.getDocumentPosition().row ;
                var index = $.inArray(row, asm_breakpoints);
                if (index >= 0) {
                    asm_breakpoints.splice(index, 1);
                } else {
                    asm_breakpoints.push(row);
                }
                sendBreakpointsInstr();
			})

            editor.on("change",  function() {
                if (debug_marker !== null) { editor.session.removeMarker(debug_marker); }
                resetView();
            });

            $("input[type=text]").change(function () {
                var objid = $(this).attr("id");
                if (objid == animate_speed) { return; }

                if (objid == "interrupt_active") {
                    if (document.getElementById('interrupt_active').checked) {
                        sendCmd(["interrupt", true, $("#interrupt_type").val(), parseInt($("#interrupt_cycles").val()), parseInt($("#interrupt_cycles_first").val())]);
                    } else {
                        sendCmd(["interrupt", false, $("#interrupt_type").val(), parseInt($("#interrupt_cycles").val()), parseInt($("#interrupt_cycles_first").val())]);
                    }
                    return;
                }

                target_val = $(this).val();

                if ($.inArray("formatted_value", this.classList) >= 0) {
                    // Convert to hex if from another format
                    format_ = $("#valueformat").val()
                    if (format_ == "dec") {
                        target_val = parseInt(target_val).toString(16);
                    } else if (format_ == "decsign") {
                        target_val = parseInt(target_val);
                        if (target_val < 0) { target_val = target_val + Math.pow(2, 32); }
                        target_val = target_val.toString(16);
                    } else if (format_ == "bin") {
                        target_val = parseInt(target_val, 2).toString(16);
                    }
                }

                sendCmd(["update", $(this).attr("id"), target_val]);
            });

            $(".flag_btn").click(function() {
                if (! $("input", this).prop('disabled')) {
                    sendCmd(["update", $(this).attr("name")]);
                }
            })

        // Help buttons
        $("#stepback").tooltipster({ content: 'Step Back', position: 'top' });
        $("#run").tooltipster({ content: 'Run', position: 'top' });
        $("#stepin").tooltipster({ content: "Step Into", position: 'top' });
        $("#stepforward").tooltipster({ content: 'Step Forward', position: 'top' });
        $("#stepout").tooltipster({ content: 'Step Out', position: 'top' });

        // Changement de format
        var previous_format = "hex";
        $("#valueformat").change(function () {
            $(".formatted_value").each(function () {
                format_ = $("#valueformat").val();
                target_val = NaN;

                if (previous_format == "dec" || previous_format == "decsign") {
                    target_val = parseInt($(this).val());
                } else if (previous_format == "bin") {
                    target_val = parseInt($(this).val(), 2);
                } else if (previous_format == "hex") {
                    target_val = parseInt($(this).val(), 16);
                }

                if (target_val < 0) { target_val = target_val + Math.pow(2, 32); }

                if (isNaN(target_val)) {
                    return;
                }

                if (format_ == "dec") {
                    $(this).val(target_val.toString());
                } else if (format_ == "decsign") {
                    if (target_val > Math.pow(2, 31) - 1) { target_val = target_val - Math.pow(2, 32); }
                    $(this).val(target_val.toString());
                } else if (format_ == "bin") {
                    $(this).val(target_val.toString(2));
                } else if (format_ == "hex") {
                    $(this).val(formatHexUnsigned32Bits(target_val).slice(2));
                }
            });
            previous_format = $("#valueformat").val();
        });

        disableSim();
    });
    </script>
    <script src="static/js/memory_viewer.js" type="text/javascript" charset="utf-8"></script>
    <script src="static/js/helpers.js" type="text/javascript" charset="utf-8"></script>
</body>
</html>